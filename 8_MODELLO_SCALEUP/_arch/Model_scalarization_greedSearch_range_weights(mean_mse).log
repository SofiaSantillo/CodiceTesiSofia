
-------------  START MODEL SCALARIZATION GREED SEARCH (scale factors + weights) ------------------
Colonne numeriche su cui fare scaling: ['ESM', 'HSPC', 'CHOL', 'PEG', 'TFR', 'FRR']

ðŸ“Š Metriche dopo iterative refinement (senza scaling):
  R2_SIZE: -0.2865
  R2_PDI: 0.4131
  R2_mean: 0.0633
  MSE_SIZE: 134.0664
  MSE_PDI: 0.0074
  MAE_SIZE: 9.4974
  MAE_PDI: 0.0523
[+] Feature ESM: applicato cluster-specific scaling -> {'0-3': np.float64(0.01), '15-25': np.float64(0.79)}
[+] Feature HSPC: applicato cluster-specific scaling -> {'0-5': np.float64(0.01), '5-10': np.float64(1.15), '10-15': np.float64(0.8), '15-25': np.float64(0.9)}
[+] Feature CHOL: applicato cluster-specific scaling -> {'0-5': np.float64(0.95), '5-15': np.float64(0.86)}
[+] Feature PEG: applicato cluster-specific scaling -> {'0-3': np.float64(0.01), '3-6': np.float64(0.95)}
[+] Feature TFR: applicato cluster-specific scaling -> {'0-3': np.float64(1.16), '3-25': np.float64(0.1), '25-55': np.float64(0.072)}

-------------  START MODEL SCALARIZATION GREED SEARCH (scale factors + weights) ------------------
Colonne numeriche su cui fare scaling: ['ESM', 'PEG', 'TFR']

ðŸ“Š Metriche dopo iterative refinement (senza scaling):
  R2_SIZE: -0.2865
  R2_PDI: 0.4131
  R2_mean: 0.0633
  MSE_SIZE: 134.0664
  MSE_PDI: 0.0074
  MAE_SIZE: 9.4974
  MAE_PDI: 0.0523
[+] Feature ESM: applicato cluster-specific scaling -> {'0-3': np.float64(0.01), '15-25': np.float64(0.79)}
[+] Feature PEG: applicato cluster-specific scaling -> {'0-3': np.float64(0.01), '3-6': np.float64(0.95)}
[+] Feature TFR: applicato cluster-specific scaling -> {'0-3': np.float64(1.16), '3-25': np.float64(0.1), '25-55': np.float64(0.072)}

Migliori fattori di scala trovati (AQUEOUS esclusa):
  ESM: {'0-3': np.float64(0.01), '15-25': np.float64(0.79)}
  PEG: {'0-3': np.float64(0.01), '3-6': np.float64(0.95)}
  TFR: {'0-3': np.float64(1.16), '3-25': np.float64(0.1), '25-55': np.float64(0.072)}

ðŸ“Š Metriche finali con greedy scaling:
  R2_SIZE: 0.2511
  R2_PDI: 0.7487
  R2_mean: 0.4999
  MSE_SIZE: 78.0408
  MSE_PDI: 0.0031
  MAE_SIZE: 7.4528
  MAE_PDI: 0.0396

ðŸ”¹ Ottimizzazione peso globale per PEG dopo cluster-specific scaling...
Peso ottimale PEG: 1.110 -> MSE medio: 32.5623

ðŸ”¹ Ottimizzazione peso globale per TFR dopo cluster-specific scaling...
Peso ottimale TFR: 1.000 -> MSE medio: 32.5623

ðŸ”¹ Ottimizzazione peso globale per ESM dopo cluster-specific scaling...
Peso ottimale ESM: 0.620 -> MSE medio: 30.2507

ðŸ“Š Metriche finali sulle predizioni con pesi globali ottimizzati:
  R2_SIZE: 0.4195
  R2_PDI: 0.7332
  R2_mean: 0.5763
  MSE_SIZE: 60.4980
  MSE_PDI: 0.0033
  MAE_SIZE: 7.3885
  MAE_PDI: 0.0410

âœ… Dataset scalato e salvato in '_Data/dataset_ScaleUp_scaled_peg.csv'
